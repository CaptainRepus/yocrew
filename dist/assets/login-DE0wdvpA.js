import{m as r,n,P as o}from"./index-DX256xND.js";const i=r({id:"login",state:()=>({access_token:"",errors:{}}),actions:{async login(s,t,a){try{const e=await n.post("https://api.wade-development.com/api/YoCrew/App/login",{email:s,password:t});this.access_token=e.data.access_token,this.errors={},await o.set({key:"access_token",value:this.access_token}),this.access_token&&a.push({name:"tab1"})}catch(e){e.response&&e.response.data?(this.message=e.response.data.message,this.errors=e.response.data.errors||{}):this.message="An error occurred during login.",console.error("Error during login:",e)}},async logout(s){this.access_token="",this.errors={},await o.remove({key:"access_token"}),s.push({name:"welcome"})},async restoreLoginState(){const{value:s}=await o.get({key:"access_token"});s&&(this.access_token=s)}}});export{i as u};
